<script>
    // -----------------------------------------------------------------------------------
    //                                      PERSON
    // -----------------------------------------------------------------------------------

    
    class Person {
        constructor(name, age, friends) {
            this._name = name
            this._age = age
            this._friends = friends
        }
        
        get name() {
            console.log(this._name)
        }
        get age() {
            console.log(this._age)
        }

        get friends() {
            console.log(this._friends)
        }

        isFriend(person) {
            if (person._friends == true) {
                return true
                console.log(true)
            }else if (person._friends == false) {
                return false
                console.log(false)
            }
        }
        addFriend(person) {
            console.log("ok!")
            person._friends = true
        }

        get isAdult() {
            if (this._age >= 18) {
                return true
                console.log(true)
            }else if (this._age <= 18) {
                return false
                console.log(false)
            }
        }
        get isChild() {
            if (this._age <= 18) {
                console.log(true)
            }else if (this._age >= 18) {
                console.log(false)
            }
        }

        birthday() {
            console.log("happy bday!")
            this._age = this._age + 1
        }
    }


    // -----------------------------------------------------------------------------------
    //                                      COUNTRY
    // -----------------------------------------------------------------------------------

    
    class Country {
        constructor(name, population, flagColors) {
            this._name = name
            this._population = population
            this._flagColors = flagColors
        }

        get population() {
            console.log(this._population)
        }
        get name() {
            console.log(this._name)
        }
        get flagColors() {
            console.log(this._flagColors)
        }

        increasePopulation(byHowMuch) {
            if (typeof byHowMuch == "number") {
                this._population = this._population + byHowMuch
            }else if (typeof byHowMuch != "number") {
                throw "error. Invalid Input"
            }
        }
        decreasePopulation(byHowMuch) {
            if (typeof byHowMuch == "number") {
                this._population = this._population - byHowMuch
            }else if (typeof byHowMuch != "number") {
                throw "error. Invalid Input"
            }
        }

        verifyFlag(arr) {
                if (Array.isArray(arr) == true) {
                    console.log(arr.every((x) => this._flagColors.some((y) => y.toLowerCase() === x.toLowerCase())));
                }else {
                    throw "error. Invalid Flag Verification. (not a string)"
                }
        }
    }


    // -----------------------------------------------------------------------------------
    //                                      PASSPORT
    // -----------------------------------------------------------------------------------


    class Passport {
        constructor(person, country, date) {
            this._person = person
            this._country = country
            this._date = date
        }

        get person() {
            console.log(this._person)
        }
        get country() {
            console.log(this._country)
        }
        get Exiprydate() {
            console.log(this._date)
        }


        verify(person) {
            if (person == this._person) {
                console.log(true)
            }else if (person != this._person) {
                console.log(false)
            }else {
                throw "error."
            }
        }

        get expired() {
            if (typeof this._date.getMonth != "function") {
                throw "error."
            }else {
                if (this._date <= new Date()) {
                    console.log(true)
                }else if (this._date >= new Date()) {
                    console.log(false)
                }
            }
        }

        toString() {
            var personIsAdult
            if (this._person.isAdult == true) {
                personIsAdult = "Yes"
            }else if (this._person.isAdult == false) {
                personIsAdult = "No"
            }

            console.log(
                "NAME: [" + this._person._name + "] | AGE: [" + this._person._age + "] years old. | COUNTRY: [" + this._country._name + "] | IS ADULT: [" + personIsAdult + "]"
                )
        }
    }



    // -----------------------------------------------------------------------------------
    //                                      CREATING:
    // -----------------------------------------------------------------------------------



    // People
    const Bob = new Person("Bob", 20)
    const Alice = new Person("Alice", 17)

    // Countries
    const Canada = new Country("Canada", 38929902, ["red", "white"])
    const Nepal = new Country("Nepal", 125548006, ["blue", "red", "white"])

    // Passports
    const Bob_Passport = new Passport(Bob, Canada, new Date("2025-04-06"))
    const Alice_Passport = new Passport(Alice, Nepal, new Date("2028-07-24"))



    // -----------------------------------------------------------------------------------
    //                                      RUNNING
    // -----------------------------------------------------------------------------------



    // -----------------------------------------------------------------------------------
    console.log("------------------------------BOB-------------------------------------")
    // -----------------------------------------------------------------------------------



    Bob_Passport.person // Person (name, age, friends)
    Bob_Passport.country // Country (name, population, flag colors)
    Bob_Passport.Exiprydate // Date (Apr 05 2025)

    Bob_Passport.person = null // no change
    Bob_Passport.country = null // no change
    Bob_Passport.Exiprydate = null // no change

    Bob_Passport.toString() // [Bob] | [20] | [Canada] | [Yes]
    
    Bob_Passport.verify(Bob) // true



    // -----------------------------------------------------------------------------------
    console.log("------------------------------ALICE------------------------------------")
    // -----------------------------------------------------------------------------------



    Alice_Passport.person // Person (name, age, friends)
    Alice_Passport.country // Country (name, population, flag colors)
    Alice_Passport.Exiprydate // Date (Jul 23 2028)

    Alice_Passport.verify(Alice) // true
    Alice_Passport.verify(Bob) // false
    Alice_Passport.expired // false
    Alice_Passport.toString() // [Alice] | [17] | [Nepal] | [No]
</script>