<html>
    <head>
        <title>31E29</title>
        <style>
            #textbox1 {
                font-size: 50px;
                text-align: center;
                user-select: none;
                color: white;
            }
            div {
              position: fixed;
              left: 50%;
              bottom: 20px;
              transform: translate(-50%, -50%);
              margin: 0 auto;
              opacity: 1;
              font-size: 25px;
              user-select: none; 
            }
        </style>
    </head>
    <body>
        <h1 id="textbox1"></h1>
        <div>Press Ctrl + Shift + J to view console</div>
        <script>
            function verifyPassport({name: nameInput, age: ageInput, country: countryInput, expiry: expiryInput}) {
                
                // ---------------------------------------------------
                // Variables
                // ---------------------------------------------------
                var infoArray = [nameInput, ageInput, countryInput, expiryInput]
                var allTrue, sentence
                var validName, validAge, validCountry, validExpiry

                var countryString = infoArray[2].toString()
                var countryLength = countryString.length

                var nameString = infoArray[0].toString()
                var nameLength = nameString.length
				
                var today = new Date()

                // ---------------------------------------------------
                // Input requirements
                // ---------------------------------------------------
                var ageRequirements = ["Age must be a number", "Age must be greater than 0 (inclusive)", "Age must be less than 200 (inclusive)"]
                var countryRequirements = ["Country must be a string", "Country length must be equal to (2) or (3)"]
                countryRequirements.pop()
                var expiryRequirements = ["Expiry date must be greater than current date", "Expiry date cannot equal current date"]
                var nameRequirements = ["Name must be longer than (0) letters", "Name must be a string"]
                

                // ---------------------------------------------------
				// Name check
                // ---------------------------------------------------
                if (nameLength != 0 &&  typeof infoArray[0] == "string") {
                    console.log("Valid Name" + ": " + infoArray[0])
                    validName = true
                }else {
                    // Find out if given name is string or number
                    if (typeof infoArray[0] == "string") {
                        infoArray[0] = "undefined" + " (no name given)"
                    }else {
                        infoArray[0] = infoArray[0]
                    }
                    console.log("[NAME DOES NOT MEET REQUIREMENTS IN FOLLOWING LIST:]" + "\n" + "Given Name: " + infoArray[0])
                    console.log(nameRequirements)
                    validName = false
                }
                

                // ---------------------------------------------------
                // Age check
                // ---------------------------------------------------
                if (infoArray[1] >= 1 && infoArray[1] <= 200) {
                    console.log("Valid Age" + ": " + infoArray[1])
                    validAge = true
                }else {
                    console.log("[AGE DOES NOT MEET REQUIREMENTS IN FOLLOWING LIST]:" + "\n" + "Given Age: " + infoArray[1])
                    console.log(ageRequirements)
                    validAge = false
                }


                // ---------------------------------------------------
                // Country check
                // ---------------------------------------------------
                if (countryLength == 3 || countryLength === 2 && typeof infoArray[2] == "string") {
                    console.log("Valid Country" + ": " + infoArray[2])
                    validCountry = true
                }else {
                    console.log("[COUNTRY DOES NOT MEET REQUIREMENTS IN FOLLOWING LIST]:" + "\n" + "Given Country: " + infoArray[2])
                    console.log(countryRequirements)
                    validCountry = false
                }


                // ---------------------------------------------------
                // Exipry Date check
                // ---------------------------------------------------
                if (infoArray[3] >= today) {
                    console.log("Valid Expiry" + ": " + infoArray[3])
                    validExpiry = true
                }else {
                    console.log("[EXPIRY DOES NOT MEET REQUIREMENTS IN FOLLOWING LIST]:" + "\n" + "Given Date: " + "[" + infoArray[3] + "]")
                    console.log(expiryRequirements)
                    validExpiry = false
                }


                // ---------------------------------------------------
                // Compile all inputs AND Change background image
                // ---------------------------------------------------
                if (validName && validAge && validCountry && validExpiry === true) {
                    var JUMP = 1
                    sentence = "This is a "
                    allTrue = "Valid Passport"


                    // Change Background
                    document.body.style.backgroundImage = "url('secure_wallpaper.jpg')"
                    document.body.style.backgroundSize = "100%"
                    document.body.style.backgroundRepeat = "no-repeat"
                    document.body.style.backgroundPosition = "50%"
                }else {
                    sentence = "This is an "
                    allTrue = "Invalid Passport"


                    // Change Background
                    document.body.style.backgroundImage = "url('insecure_wallpaper.jpg')"
                    document.body.style.backgroundSize = "110%"
                    document.body.style.backgroundPosition = "75%"
                }
                
                
                // ---------------------------------------------------
                // Log everyting in console
                // ---------------------------------------------------
                console.log("")
                console.log(sentence + allTrue)
                console.log("")
                infoArray.unshift("PASSPORT INFO:")
                console.log(infoArray)

                // Display result in Body
                document.getElementById("textbox1").innerHTML = allTrue
            }

            // Input passport details:
            verifyPassport({name: "Tyler", age: 16, country: "CAN", expiry: new Date(2023, 10, 4)})


            // The next steps would be to display everything in elements in the body, and not just log it all to the console.
        </script>
    </body>
</html>